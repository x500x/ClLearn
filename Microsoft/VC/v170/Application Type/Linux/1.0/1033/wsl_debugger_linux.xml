<?xml version="1.0" encoding="utf-8"?>
<!--Copyright, Microsoft Corporation, All rights reserved.-->
<Rule 
  Name="LinuxWSLDebugger"
  DisplayName="GDB Debugger"
  PageTemplate="debugger"
  Order="100"
  Description="Debugger options"
  xmlns:sys="clr-namespace:System;assembly=mscorlib"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns="http://schemas.microsoft.com/build/2009/properties">

  <Rule.DataSource>
    <DataSource Persistence="UserFile" />
  </Rule.DataSource>
  <DynamicEnumProperty Name="RemoteDebuggingTarget" DisplayName="Remote Debug Machine"
              Description="The target machine or device to use for deploy and debug."
              F1Keyword="VC.Project.VCConfiguration.BuildLogFile"
              EnumProvider="WSLDebuggingTargets"
              Visible="true">
  </DynamicEnumProperty>

  <StringProperty Name="RemoteDeployDir" DisplayName="Remote Deploy Directory"
                    Description="Specifies a path to a directory on the remote machine or device for the project to deploy to."
                    F1Keyword="VC.Project.VCConfiguration.BuildLogFile"
                    Category="General" Default="">
    <StringProperty.DataSource>
      <DataSource Persistence="ProjectFile" Label="" />
    </StringProperty.DataSource>
  </StringProperty>

  <EnumProperty Name="DebuggerType" 
                DisplayName="Debugger Type" 
                F1Keyword="VC.Project.RaspberryDebugger.DebuggerType"
                Description="Specifies which code type to debug."
                Visible="false">
    <EnumProperty.Metadata>
      <NameValuePair Name="IsDebugType" Value="true"/>
    </EnumProperty.Metadata>
    <EnumValue Name="NativeOnly" DisplayName="Native Only"/>
  </EnumProperty>

  <StringProperty Name="PreLaunchCommand" DisplayName="Pre-Launch Command" Description="A command that is run on the shell before the debugging starts and before the debugger is running, and can be used to affect the debugging environment." Category="General" Visible="true" F1Keyword="VC.Project.RaspberryDebugger.LaunchActivity">
  </StringProperty>

  <StringProperty Name="RemoteDebuggerCommand" DisplayName="Program"
                  Description="The full WSL path to the program to debug. This is a WSL path ie /mnt/../ . If left empty or unchanged it defaults to the current project output."
                  F1Keyword="VC.Project.IVCLocalDebugPageObject.CommandArguments">
  </StringProperty>
  <StringProperty Name="RemoteDebuggerCommandArguments" DisplayName="Program Arguments"
                  Description="The command line arguments to pass to the program being debugged."
                  F1Keyword="VC.Project.IVCLocalDebugPageObject.CommandArguments">
  </StringProperty>
  <StringProperty Name="DebuggerWorkingDirectory" DisplayName="Working Directory"
                Description="The remote application's working directory. By default, the user home directory."
                F1Keyword="VC.Project.IVCLocalDebugPageObject.WorkingDirectory"/>

  <StringListProperty Name="AdditionalDebuggerCommands"
                  DisplayName="Additional Debugger Commands"
                  Description="Additional commands for the debugger to run before starting debugging."
                  F1Keyword="VC.Project.RaspberryDebugger.LaunchActivity"
                  Visible="true">
  </StringListProperty>

  <StringListProperty Name="AdditionalSymbolSearchPaths"
                  DisplayName="Additional Symbol Search Paths"
                  Description="Additional search path for debug symbols (solib-search-path)."
                  F1Keyword="VC.Project.RaspberryDebugger.LaunchActivity"
                  Subtype="folder"
                  Visible="true">
  </StringListProperty>

  <BoolProperty Name="DebugChildProcesses" DisplayName="Debug Child Processes" Category="General"
                Description="Specifies whether to enable debugging of child processes."
                F1Keyword="VC.Project.LinuxDebugger.DebugChildProcesses"/>

  <StringProperty Name="TargetPath" Visible="false" />

  <StringProperty Name="RemoteGDBPath" Visible="true" DisplayName="Remote Debugger Path" Category="General"
                  Description="Linux path to the gdb (or lldb) executable on the WSL target." />
  <StringProperty Name="GDBPath" Visible="false" />
  <StringProperty Name="GdbShellExecProgram" Visible="false" />
  <StringProperty Name="GdbShellExecProgramFlags" Visible="false" />
  <StringProperty Name="RemoteTargetPath" Visible="false" />

  <BoolProperty Name="EnablePrettyPrinting" DisplayName="Enable Python Pretty Printing" Description="Enable pretty printing of expression values. Only supported in &quot;gdb&quot; debugging mode." Visible="true" F1Keyword="VC.Project.RaspberryDebugger.EnablePrettyPrinting">
  </BoolProperty>

  <StringProperty Name="LinuxNatvisFile" DisplayName="Visualization File" Description="Default native visualization file (.natvis) containing visualization directives for SLT types.  Other .natvis files that belong to the current solution will be loaded automatically." Visible="true" F1Keyword="VC.Project.RaspberryDebugger.LinuxNatvisFile">
  </StringProperty>

  <StringListProperty Name="SourceMap"
                  DisplayName="Additional Sources File Path Map"
                  Description="Additional path equivalences for the debugger to use to map Windows source file names to Linux source file names. Format is &quot;&lt;windows-path&gt;=&lt;linux-path&gt;;...&quot;. A source file name found under the Windows path will be referenced as if is has been found in the same relative position under the Linux path. Files found in the local project do not require additional mapping."
                  F1Keyword="VC.Project.RaspberryDebugger.SourceMap"
                  Visible="true">
  </StringListProperty>

  <BoolProperty Name="ShowDisplayString" DisplayName="Show Natvis DisplayString" Description="Enable showing the natvis DisplayString element by default in the locals, watch, datatips, etc." Visible="true" F1Keyword="VC.Project.RaspberryDebugger.ShowDisplayString">
  </BoolProperty>

  <EnumProperty Name="LoadAllSymbols"
                DisplayName="Symbol Loading Preference"
                Description="When loading all symbols the symbols for solibs in Symbol List are not loaded. When only loading symbols for specific solibs then Symbol List specifies those solibs."
                Visible="true"
                F1Keyword="VC.Project.RaspberryDebugger.LoadAllSymbols">
    <EnumValue Name="enabled" DisplayName="Load all symbols except those in Symbol List"/>
    <EnumValue Name="disabled" DisplayName="Load only those symbol specified in Symbol List"/>
  </EnumProperty>

  <StringListProperty Name="SymbolLoadList"
                 Description="List of semi-colon separated solib names (wildcards allowed). See Symbol Loading Preference."
                 DisplayName="Symbol List"
                 F1Keyword="VC.Project.RaspberryDebugger.SymbolLoadList"
                 Visible="true">
  </StringListProperty>
  
  <StringListProperty Name="ASANRuntimeFlags"
                    DisplayName="AddressSanitizer Runtime Flags"
                    Description="Runtime flags passed to AddressSanitizer via the ASAN_OPTIONS environment variable."
                    F1Keyword="VC.Project.RaspberryDebugger.ASANRuntimeFlags"
                    Visible="true">
  </StringListProperty>
  <BoolProperty Name="DisableFastDeploy" DisplayName="Disable Fast Deploy" Description="Disables fast deploy." Visible="false" F1Keyword="VC.Project.Deploy.DisableFastDeploy">
  </BoolProperty>

  <EnumProperty Name="MIMode"
            DisplayName="Remote Debugger Type"
            Description="Indicates whether to use gdb or lldb for debugging."
            Visible="true"
            F1Keyword="VC.Project.RaspberryDebugger.MIMode">
    <EnumValue Name="gdb"/>
    <EnumValue Name="lldb"/>
  </EnumProperty>
</Rule>
